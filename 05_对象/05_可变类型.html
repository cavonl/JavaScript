<!--
 * @Author: chengfun 425247833@qq.com
 * @Date: 2023-09-09 17:12:47
 * @LastEditors: chengfun 425247833@qq.com
 * @LastEditTime: 2023-09-09 18:22:13
 * @FilePath: /JavaScript/05_对象/05_可变类型.html
-->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>可变类型</title>
  <script>
    /*
      原始值都属于不可变类型，一旦创建就无法修改
      在内存中不会创建重复的原始值
    */

    let a = 10; // 内存地址中没有去掉a=10
    // *解析：当我们为一个变量重新赋值时，绝对不会影响其他变量
    a = 12; // 而是重新给a赋值为12，不会影响原来的值，原来的10也就是叫不可变类型
    console.log('a = ', a);

    // 在内存地址中，b和c都是指向的同一个10
    let b = 10;
    let c = 10;
    b = 12; // 原始值不会改变，如果内存空间没有12会创建一个新的内存空间指向12，而10还在，不会影响c

    console.log('b = ', b);
    console.log('c = ', c);


    /*
      - 对象属于可变类型
      - 对象创建完成后，可以任意的添加删除修改对象中的属性
      - 注意：
          - 当对两个对象进行相等或全等比较时，比较的是对象的内存地址
          - 如果有两个变量同时指向一个对象，通过一个变量修改对象时，对另外一个变量也会产生影响

    */

    let obj = new Object();
    obj.name = '孙悟空';
    obj.age = 19;
    // 当name修改为了猪八戒后，孙悟空就没了，此时就是可变类型
    obj.name = '猪八戒';

    // obj2 和 obj3比较的是内存地址所以结果为false，因为obj2、obj3都是创建新的内存空间
    let obj2 = new Object();
    let obj3 = new Object();
    console.log(obj2 === obj3); // false

    // 要想让 obj2 == obj4 为true必须先让内存空间相等
    let obj4 = obj2;
    console.log(obj2 === obj4);

    // 我们让obj和obj5比较
    let obj5 = obj;

    // 当我们修改了obj5的name属性, 此时 obj和obj5都是{name: '猪八戒', age: 19}
    // 因为obj和obj5是同一块内存地址，所以当obj5修改了name属性等同于也修改了obj的name属性
    obj5.name = '沙和尚'; // *解析：当修改一个对象时，所有指向该对象的变量都会受到影响

    console.log('obj', obj); // {name: '猪八戒', age: 19}
    console.log('obj5', obj5); // {name: '猪八戒', age: 19}
    console.log(obj === obj5); // true
  </script>
</head>

<body>

</body>

</html>