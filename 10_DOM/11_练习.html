<!--
 * @Author: cavon 425247833@qq.com
 * @Date: 2023-11-02 17:52:45
 * @LastEditors: cavon 425247833@qq.com
 * @LastEditTime: 2023-11-02 21:09:25
 * @FilePath: /JavaScript/10_DOM/11_练习.html
-->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>练习</title>
  <script>
    window.onload = function () {
      // 获取全选按钮
      let allBtn = document.getElementById("all");
      // 获取取消按钮
      let noBtn = document.getElementById("no");
      // 获取反选按钮
      let reverseBtn = document.getElementById("reverse");
      // 获取提交按钮
      let sendBtn = document.getElementById("send");

      // 获取爱好
      let hobbys = document.getElementsByName("hobby");

      // 获取全选按钮
      let checkAllBtn = document.getElementById("check-all");

      // 点击全选按钮
      allBtn.onclick = function () {
        for (let i = 0; i < hobbys.length; i++) {
          hobbys[i].checked = true;
        }
        checkAllBtn.checked = true;
      }

      // 点击取消按钮
      noBtn.onclick = function () {
        for (let i = 0; i < hobbys.length; i++) {
          hobbys[i].checked = false;
        }
        checkAllBtn.checked = false;
      }

      // 点击反选按钮
      reverseBtn.onclick = function () {
        for (let i = 0; i < hobbys.length; i++) {
          hobbys[i].checked = !hobbys[i].checked;
        }
        // 如果4个多选框都选中，全选为true，反选为false；如果4个多选框为false，全选为false，反选为true
        let checkBox = document.querySelectorAll("[name=hobby]:checked");
        if (hobbys.length === checkBox.length) {
          checkAllBtn.checked = true;
        } else {
          checkAllBtn.checked = false;
        }
      }

      // 点击提交按钮
      sendBtn.onclick = function () {
        for (let i = 0; i < hobbys.length; i++) {
          if (hobbys[i].checked) {
            alert(hobbys[i].value);
          }
        }
      }

      // 点击全选按钮
      checkAllBtn.onclick = function () {
        // 全选按钮如果为true，那么hobbys的多选框也为true
        for (let i = 0; i < hobbys.length; i++) {
          hobbys[i].checked = this.checked;
        }
      }

      // 是全选和四个多选框进行同步：四个多选框如果都选中了，那么全选也选中；四个多选有一个没选中，那么全选不选中
      for (let i = 0; i < hobbys.length; i++) {
        hobbys[i].onchange = function () {
          let checkBox = document.querySelectorAll("[name=hobby]:checked");
          if (hobbys.length === checkBox.length) {
            checkAllBtn.checked = true;
          } else {
            checkAllBtn.checked = false;
          }
        }
      }
    }

  </script>
</head>

<body>
  <div class="outer">
    <div>
      请选择你的爱好：
      <input type="checkbox" id="check-all"> 全选
    </div>
    <div>
      <input type="checkbox" name="hobby" value="乒乓球"> 乒乓球
      <input type="checkbox" name="hobby" value="篮球"> 篮球
      <input type="checkbox" name="hobby" value="羽毛球"> 羽毛球
      <input type="checkbox" name="hobby" value="足球"> 足球
    </div>
    <div>
      <button type="button" id="all">全选</button>
      <button type="button" id="no">取消</button>
      <button type="button" id="reverse">反选</button>
      <button type="button" id="send">提交</button>
    </div>
  </div>
</body>

</html>