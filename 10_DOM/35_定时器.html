<!--
 * @Author: cavon 425247833@qq.com
 * @Date: 2023-11-24 15:54:50
 * @LastEditors: cavon 425247833@qq.com
 * @LastEditTime: 2023-11-24 16:41:08
 * @FilePath: /JavaScript/10_DOM/35_定时器.html
-->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>定时器</title>
</head>

<body>
  <script>

    /*
      定时器的本质，就是在指定时间后将函数添加到消息队列中

      setInterval()
        - 每间隔一段时间就将函数添加到消息队列中，但是如果函数知道速度比较慢，它是无法保证每次执行的事件间隔都是一样的
     */

    // console.time();
    // setTimeout(function () {
    //   console.timeEnd();
    //   console.log("定时器执行了～～");
    // }, 3000);

    // // 使程序卡6秒
    // let begin = Date.now();
    // while (Date.now() - begin < 6000) { }

    // // 每隔三秒执行一下函数，栈为空的情况下
    // console.time("间隔");
    // setInterval(function () {
    //   // 正常情况下，每隔3秒执行一下函数
    //   console.timeEnd("间隔");
    //   console.log("定时器执行了～～");

    //   console.time("间隔");
    // }, 3000);

    // // 每隔三秒执行一下函数，栈为空的情况下
    // console.time("间隔");
    // setInterval(function () {
    //   // 正常情况下，每隔3秒执行一下函数
    //   console.timeEnd("间隔");

    //   // 点击确定快定时器就快，点的慢就慢，取决于手速
    //   alert("定时器执行了～～"); // 不稳定，不能保证每次都是3秒左右

    //   console.time("间隔");
    // }, 3000);


    // 希望可以确保函数每次执行都有相同间隔
    // console.time("间隔");
    // setTimeout(function fn() {
    //   console.timeEnd("间隔");
    //   console.log("定时器执行了～～");
    //   console.time("间隔");
    //   // 在setTimeout的回调函数的最后，再调用一个setTimeout
    //   setTimeout(fn, 3000);
    // }, 3000);

    // console.time("间隔");
    // setTimeout(function fn() {
    //   console.timeEnd("间隔");
    //   // 不管手速快慢，都是保证在3秒左右，比较稳定
    //   alert("定时器执行了～～");
    //   console.time("间隔");
    //   // 在setTimeout的回调函数的最后，再调用一个setTimeout
    //   setTimeout(fn, 3000);
    // }, 3000);

    // 定时器是隔一段时间把函数添加到消息队列而不是立即执行
    setTimeout(() => {
      console.log(1111);
    }, 0);
    // 立即执行
    console.log(2222);

  </script>
</body>

</html>