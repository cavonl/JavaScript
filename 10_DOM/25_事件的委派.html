<!--
 * @Author: cavon 425247833@qq.com
 * @Date: 2023-11-21 19:43:22
 * @LastEditors: cavon 425247833@qq.com
 * @LastEditTime: 2023-11-21 20:36:21
 * @FilePath: /JavaScript/10_DOM/25_事件的委派.html
-->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>事件的委派</title>
  <style>

  </style>
</head>

<body>
  <button id="btn">点我一下</button>
  <hr>
  <ul id="list">
    <li><a href="javascript:;">链接一</a></li>
    <li><a href="javascript:;">链接二</a></li>
    <li><a href="javascript:;">链接三</a></li>
    <li><a href="javascript:;">链接四</a></li>
  </ul>

  <script>

    /*
        希望：
          只绑定一次事件，既可以让所有超链接，包括当前的和未来新建的超链接都具有这些事件

        思路：
          可以将事件统一绑定给document，这样点击超链接时由于事件的冒泡，
          会导致document上的点击事件被触发，这样只绑定一次所有的超链接都会具有这些事件
     */

    const links = document.querySelectorAll("ul a");
    const btn = document.getElementById("btn");
    const list = document.getElementById("list");

    // for (let i = 0; i < links.length; i++) {
    //   links[i].addEventListener("click", event => {
    //     console.log(event.target.textContent);
    //   });
    // }

    // 点击按钮后，在ul中添加一个新的li
    btn.addEventListener("click", () => {
      list.insertAdjacentHTML("beforeend", "<li><a href='javascript:;'>新链接</a></li>")
    });

    // 问题：为什么要这样写？有什么好处？
    document.addEventListener("click", event => {
      alert(event.target.textContent);
    })

  </script>
</body>

</html>