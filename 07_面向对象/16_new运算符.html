<!--
 * @Author: chengfun 425247833@qq.com
 * @Date: 2023-09-26 12:48:27
 * @LastEditors: chengfun 425247833@qq.com
 * @LastEditTime: 2023-09-26 16:28:26
 * @FilePath: /JavaScript/07_面向对象/16_new运算符.html
-->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>new运算符</title>
  <script>
    /*
        new 运算符是创建对象时要使用的运算符
          - 使用new时，到底发生了哪些事情：
              https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/new
          - 当使用new去调用一个函数时，这个函数将会作为构造函数调用
              使用new调用函数时，将会发生这些事：
                1. 创建一个普通的JS对象（Object对象{}），为了方便，称其为新对象
                2. 将构造函数的prototype属性设置为新对象的原型
                3. 使用实参来执行构造函数，并且将新对象设置为函数的this
                4. 如果构造函数返回的是一个非原始值，则该值会作为new运算的返回值返回；（通常情况下千万不要这么做）
                   如果构造函数的返回值是一个原始值或者没有指定返回值，则新的对象将会作为返回值返回；
                   通常不会为构造函数指定返回值

     */

    function MyClass() {

      // 1. 创建一个普通的JS对象
      var newInstance = {};
      // 2. 将构造函数的prototype设置为新对象的原型
      newInstance.__proto__ = MyClass.prototype;

      // 4.1 非原始值
      // return { name: '孙悟空' };

      // 4.2 原始值
      // return;
      // return 123;
      // 没有写return返回，也会打印出MyClass {}
    }
    const ml = new MyClass();
    // console.log(ml); // { name: '孙悟空' }
    // console.log(ml); // MyClass {}
    console.log(ml); // MyClass {}


    // 新类也是按照以上步骤
    class Person {
      constructor() {

      }
    }

    new Person();
  </script>
</head>

<body>

</body>

</html>