<!--
 * @Author: chengfun 425247833@qq.com
 * @Date: 2023-09-24 11:50:01
 * @LastEditors: chengfun 425247833@qq.com
 * @LastEditTime: 2023-09-24 15:17:47
 * @FilePath: /JavaScript/07_面向对象/06_封装.html
-->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>封装</title>
  <script>
    /*
      面向对象的特点：封装、继承、多态

      1. 封装
        - 对象就是一个用来存储不同属性的容器
        - 对象不仅负责属性，还要负责数据的安全
        - 直接添加到对象中的属性，并不安全，因为它们可以被任意的修改
        - 如果确保数据的安全？
            1. 私有化数据
                - 将需要保护的数据设置为私有，只能在类内部访问
            2. 提供getter和setter方法来开放对数据的操作
                - 属性设置私有，通过getter setter操作属性带来的好处
                    1. 可以控制属性的读取权限
                    2. 可以在方法中对属性的值进行验证

        - 封装主要用来保证数据的安全
        - 实现封装的方式：
            1. 属性私有化 加#
            2. 通过 getter setter方法来操作属性
                get 属性名() {
                  return this.属性名;
                }
                set 属性名(参数) {
                  this.#属性名 = 参数;
                }
            3. 
    */

    class Person {

      #address = '花果山'; // 实例使用#开头就变成了私有属性，私有属性只能在类内部访问

      #name
      #age
      #gender

      constructor(name, age, gender) {
        this.#name = name;
        this.#age = age;
        this.#gender = gender;
      }

      sayHello() {
        console.log(this.name, this.#address);
      }

      // getter方法，用来读取属性
      getName() {
        return this.#name;
      }
      // setter方法，用来设置属性
      setName(name) {
        this.#name = name;
      }

      getAge() {
        return this.#age;
      }
      setAge(age) {
        if (age >= 18) {
          this.#age = age;
        }
      }

      get gender() {
        console.log('getter执行了～');
        return this.#gender;
      }

      set gender(gender) {
        console.log('setter执行了～');
        this.#gender = gender;
      }
    }

    const p1 = new Person('孙悟空', 18, '男');
    // p1.age = -11; // 没有年龄为负数的
    // p1.getName();
    // p1.setName('猪八戒');

    // p1.gender = '女'; // 通过get gender方法无法修改属性值

    p1.gender = '女'; // 当有了set gender(gender)方法，修改才有效果

    console.log(p1);
    console.log(p1.gender);
    
  </script>
</head>

<body>

</body>

</html>