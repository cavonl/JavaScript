<!--
 * @Author: cavon 425247833@qq.com
 * @Date: 2023-10-05 08:00:27
 * @LastEditors: cavon 425247833@qq.com
 * @LastEditTime: 2023-10-05 08:28:45
 * @FilePath: /JavaScript/08_数组/10_数组去重.html
-->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>数组去重</title>
  <script>
    /*
        练习：
          有如下一个数组
            arr = [1, 2, 1, 3, 2, 4, 5, 5, 6, 7];

          编写代码，去除数组中的重复元素：[1, 2, 3, 4, 5, 6, 7]
     */
    let arr = [1, 2, 1, 3, 2, 4, 5, 5, 6, 7];
    // 分别获取数组中的元素
    for (let i = 0; i < arr.length; i++) {
      // 获取当前值后面的所有值(通过array[i] 找到 1 ，然后去和1后面的数对比...)
      for (let j = i + 1; j < arr.length; j++) {
        // 出现了重复元素，删除后面的元素
        if (arr[i] === arr[j]) {
          arr.splice(j, 1); // 从当前位置（j的位置）开始删除一个元素
        }
      }
    }
    console.log(arr); // [1, 2, 3, 4, 5, 6, 7]


    // 当在arr2数组中加几个2，那么以下代码就不适用，仅仅只适用arr这一组数据
    let arr2 = [1, 2, 1, 3, 2, 2, 2, 2, 4, 5, 5, 6, 7];
    // 分别获取数组中的元素
    for (let i = 0; i < arr2.length; i++) {
      // 获取当前值后面的所有值(通过array[i] 找到 1 ，然后去和1后面的数对比...)
      for (let j = i + 1; j < arr2.length; j++) {
        // 出现了重复元素，删除后面的元素
        if (arr2[i] === arr2[j]) {
          arr2.splice(j, 1); // 从当前位置（j的位置）开始删除一个元素

          /*
              当arr2[i]和arr2[j]相同时，它会自动的删除j位置的元素，
              然后j+1位置的元素，会变成j位置的元素，
              而j位置的元素已经比较过了，不会再重复比较，
              所以会出现漏比较的情况

              解决办法，当删除一个元素后，需要将该位置的元素再比一遍（由于是j++，所以会跳过重复元素的比较）
           */
          j--;
        }
      }
    }
    // console.log(arr2); // [1, 2, 3, 2, 4, 5, 6, 7] 还是会有重复的数据
    console.log(arr2); // [1, 2, 3, 4, 5, 6, 7] 增加j--代码，去掉了跳过的重复元素
  </script>
</head>

<body>

</body>

</html>