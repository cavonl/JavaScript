<!--
 * @Author: cavon 425247833@qq.com
 * @Date: 2023-10-07 18:44:44
 * @LastEditors: cavon 425247833@qq.com
 * @LastEditTime: 2023-10-07 21:08:29
 * @FilePath: /JavaScript/08_数组/15_一个小问题.html
-->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>一个小问题</title>
  <script>
    class Person {
      constructor(name, age) {
        this.name = name;
        this.age = age;
      }
    }
    const personArr = [
      new Person('孙悟空', 18),
      new Person('猪八戒', 28),
      new Person('红孩儿', 8),
      new Person('白骨精', 16)
    ];
    // filter()函数用来对数组进行过滤
    /*
        目前我们的函数只能过滤出数组中age属性小于18的对像，
          我们希望过滤更加灵活：
            比如：过滤数组中age大于18的对象
                         age大于60的对象
                         age大于n的对象
                 过滤数组中name为xxx的对象
                 过滤数组中的偶数
                 ...

        一个函数的参数也可以是函数，如果将函数作为参数传递，那么我们就称这个函数为回调函数(callback)
     */
    function filter(arr, cb) {
      let newArr = [];

      // cb();

      for (let i = 0; i < arr.length; i++) {
        // arr[i].age > 18
        // arr[i].age > 60
        // arr[i].age > n
        // arr[i].name === 'xxx'
        // arr[i] % 2 === 0
        // if (arr[i].age < 18) {
        //   newArr.push(arr[i]);
        // }
        // if (cb()) {
        //   newArr.push(arr[i]);
        // }
        if (cb(arr[i])) {
          newArr.push(arr[i]);
        }
      }
      return newArr;
    }

    function fn(params) {
      // console.log('我是回调函数');
      // return true;

      // return params.age < 18;
      return params.name === '孙悟空';
    }

    // console.log(filter(personArr, () => { console.log('我是回调函数'); }));
    console.log(filter(personArr, fn));
  </script>
</head>

<body>

</body>

</html>